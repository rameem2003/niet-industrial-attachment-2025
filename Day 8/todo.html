<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simple ToDo App</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
      <h1 class="text-2xl font-bold mb-6 text-center">ToDo App</h1>

      <div class="flex mb-4">
        <input
          type="text"
          id="taskInput"
          placeholder="Add a new task..."
          class="flex-1 p-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <button
          id="addTaskBtn"
          class="bg-blue-500 text-white p-2 rounded-r-lg hover:bg-blue-600"
        >
          Add
        </button>
      </div>

      <ul id="taskList" class="space-y-2"></ul>
    </div>

    <script>
      const taskInput = document.getElementById("taskInput");
      const addTaskBtn = document.getElementById("addTaskBtn");
      const taskList = document.getElementById("taskList");

      // Load tasks from localStorage
      let tasks = JSON.parse(localStorage.getItem("tasks")) || [];

      function renderTasks() {
        taskList.innerHTML = "";
        tasks.forEach((task, index) => {
          const li = document.createElement("li");
          li.className = `flex items-center justify-between p-3 bg-gray-50 rounded-lg ${
            task.done ? "line-through text-gray-500" : ""
          }`;

          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.checked = task.done;
          checkbox.className = "mr-2";
          checkbox.addEventListener("change", () => toggleDone(index));

          const span = document.createElement("span");
          span.textContent = task.text;
          span.className = "flex-1";

          const deleteBtn = document.createElement("button");
          deleteBtn.textContent = "Delete";
          deleteBtn.className = "text-red-500 hover:text-red-700";
          deleteBtn.addEventListener("click", () => deleteTask(index));

          li.appendChild(checkbox);
          li.appendChild(span);
          li.appendChild(deleteBtn);
          taskList.appendChild(li);
        });
      }

      function addTask() {
        const text = taskInput.value.trim();
        if (text) {
          tasks.push({ text, done: false });
          taskInput.value = "";
          saveTasks();
          renderTasks();
        }
      }

      function toggleDone(index) {
        tasks[index].done = !tasks[index].done;
        saveTasks();
        renderTasks();
      }

      function deleteTask(index) {
        tasks.splice(index, 1);
        saveTasks();
        renderTasks();
      }

      function saveTasks() {
        localStorage.setItem("tasks", JSON.stringify(tasks));
      }

      addTaskBtn.addEventListener("click", addTask);
      taskInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") addTask();
      });

      // Initial render
      renderTasks();
    </script>
  </body>
</html>
